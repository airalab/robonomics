# Example MQTT Bridge Configuration
# Use with: cps mqtt start -c mqtt_config.toml

# MQTT Broker Configuration
broker = "mqtt://localhost:1883"
# Optional authentication
# username = "myuser"
# password = "mypass"
# Optional client ID (defaults to generated ID if not specified)
# client_id = "cps-bridge"

# Blockchain Configuration
[blockchain]
ws_url = "ws://localhost:9944"
# Account secret URI (e.g., //Alice, //Bob, or seed phrase)
suri = "//Alice"

# Subscribe Topics
# Listen to MQTT topics and update blockchain nodes
[[subscribe]]
topic = "sensors/temperature"
node_id = 5

[[subscribe]]
topic = "sensors/humidity"
node_id = 6

# Example with encryption (SR25519)
[[subscribe]]
topic = "sensors/pressure"
node_id = 7
receiver_public = "5GrwvaEF5zXb26Fz9rcQpDWS57CtERHpNehXCPcNoHGKutQY"
cipher = "xchacha20"
scheme = "sr25519"

# Example with ED25519 encryption (Home Assistant compatible)
[[subscribe]]
topic = "homeassistant/sensor/temp"
node_id = 8
receiver_public = "5FHneW46xGXgs5mUiveU4sbTyGBzmstUspZC92UhjJM694ty"
cipher = "aesgcm256"
scheme = "ed25519"

# Publish Topics
# Monitor blockchain nodes and publish changes to MQTT
[[publish]]
topic = "actuators/valve01"
node_id = 10

[[publish]]
topic = "actuators/fan"
node_id = 11

[[publish]]
topic = "status/system"
node_id = 12
